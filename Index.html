<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- ç¢ºä¿åŠ å…¥ä¸»ç•«é¢æ™‚é¡¯ç¤ºçš„åå­—ç‚º Kansai2026 -->
    <title>Kansai2026</title>
    <meta name="apple-mobile-web-app-title" content="Kansai2026">
    <meta name="application-name" content="Kansai2026">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#fdfafb">
    
    <!-- React & Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #fdfafb; /* æŸ”å’Œç±³ç™½ */
            color: #4a4a4a;
            -webkit-tap-highlight-color: transparent;
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* éš±è—æ²è»¸ä½†ä¿ç•™åŠŸèƒ½ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* ç»ç’ƒæ“¬æ…‹å¡ç‰‡ */
        .glass-card {
            background: rgba(255, 255, 255, 0.45);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }

        /* è«è˜­è¿ªè‰²ç³»å®šç¾© */
        .bg-morandi-main { background-color: #78C2C4; } /* ç¥æˆ¶/ä¸»è‰² - é’ç“·ç¶  */
        .text-morandi-main { color: #78C2C4; }
        .bg-morandi-pink { background-color: #FEDFE1; } /* å¤§é˜ª - æ·¡æ«»ç²‰ */
        .text-morandi-pink { color: #FEDFE1; }
        .bg-morandi-yellow { background-color: #FAD689; } /* å¥ˆè‰¯ - èŠ¥æœ«é»ƒ */
        .bg-morandi-green { background-color: #A8D8B9; } /* å’Œæ­Œå±± - è‰æœ¨ç¶  */
        
        /* å‹•ç•« */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* iPhone Safe Area */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- è³‡æ–™æ•¸æ“š ---
        
        // è¡Œç¨‹è³‡æ–™ (Updated with specific Passes)
        const itineraryData = [
            {
                day: 1,
                date: "02/16",
                weekday: "é€±ä¸€",
                location: "ç¥æˆ¶",
                color: "bg-[#78C2C4]",
                events: [
                    { time: "17:10", title: "æŠµé”é—œè¥¿æ©Ÿå ´ T2", icon: "plane-arrival", desc: "æº–å‚™å‰å¾€ç¥æˆ¶å¸‚å€", type: "flight" },
                    { 
                        time: "äº¤é€š", 
                        title: "é—œè¥¿æ©Ÿå ´ â” ç¥æˆ¶ä¸‰å®®ç«™ ğŸ’³åˆ·ICå¡æˆ–è³¼ç¥¨", 
                        icon: "train", 
                        type: "transport",
                        desc: "æ–¹æ¡ˆ A (é«˜é€Ÿèˆ¹ - æ¨è–¦)ï¼šé—œè¥¿æ©Ÿå ´ T1 (12è™Ÿæ«ƒæª¯) / T2 (æ¥é§è»Š) â†’ é«˜é€Ÿèˆ¹ç¢¼é ­ â” æ­ä¹˜ Bay Shuttle é«˜é€Ÿèˆ¹ (å¾€ç¥æˆ¶æ©Ÿå ´) â” ç¥æˆ¶æ©Ÿå ´æ£§æ©‹ â†’ æ­¥è¡Œè‡³ç¥æˆ¶æ©Ÿå ´ç«™ â” æ­ä¹˜ Port Liner æ¸¯ç£äººå·¥å³¶ç·š (å¾€ä¸‰å®®) â” ä¸‹è»Šï¼šä¸‰å®®ç«™\næ–¹æ¡ˆ B (JR)ï¼šé—œè¥¿æ©Ÿå ´ç«™ â” æ­ä¹˜ JR é—œç©ºå¿«é€Ÿ (å¾€å¤©ç‹å¯º/å¤§é˜ª) â” å¤§é˜ªç«™ (è½‰ä¹˜) â” æ­ä¹˜ JR ç¥æˆ¶ç·š æ–°å¿«é€Ÿ (å¾€å§¬è·¯/è¥¿æ˜çŸ³) â” ä¸‹è»Šï¼šä¸‰å®®ç«™ (æ±å£å‡ºå£)" 
                    },
                    { time: "19:30", title: "ç¥æˆ¶ç¾åˆ©å …å…¬åœ’æ±æ–¹å¤§é…’åº—", icon: "hotel", desc: "Check-in", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "ç¥æˆ¶ä¸‰å®®ç«™ â” é£¯åº— ğŸ’³åˆ·ICå¡", 
                        icon: "bus", 
                        type: "transport",
                        desc: "æ–¹æ¡ˆ Aï¼šä¸‰å®®ç«™ Mint Kobe 1æ¨“å·´å£«ç¸½ç«™ (8è™Ÿæœˆå°) â” æ­ä¹˜é£¯åº—å…è²»æ¥é§å·´å£«\næ–¹æ¡ˆ Bï¼šæ­¥è¡Œ (ç´„ 20 åˆ†) æˆ– è¨ˆç¨‹è»Š (ç´„ 10 åˆ†)" 
                    },
                    { time: "20:30", title: "ç¾åˆ©å …å…¬åœ’", icon: "person-running", desc: "æ´»å‹•ï¼šç¥æˆ¶æ¸¯ç£å¤œè·‘ (ç¾åˆ©å …å…¬åœ’è‡³è‡¨æµ·æ¨‚åœ’ï¼Œäº«å— 5-10km çš„æµªæ¼«æµ·é¢¨å¤œè·‘)", type: "activity" }
                ]
            },
            {
                day: 2,
                date: "02/17",
                weekday: "é€±äºŒ",
                location: "ç¥æˆ¶",
                color: "bg-[#78C2C4]",
                events: [
                    { 
                        time: "äº¤é€š", 
                        title: "é£¯åº— â” å…µåº«ç¸£ç«‹ç¾è¡“é¤¨ ğŸ«KRP 3æ—¥åˆ¸", 
                        icon: "train-tram", 
                        type: "transport",
                        desc: "ä¸Šè»Šï¼šé£¯åº—æ¥é§å·´å£« â†’ ä¸‰å®®ç«™\né€²ç«™ï¼šé˜ªç¥ ä¸‰å®®ç«™ â” æ­ä¹˜ï¼šé˜ªç¥æœ¬ç·š æ™®é€š (å¾€å¤§é˜ªæ¢…ç”°)\nä¸‹è»Šï¼šå²©å±‹ç«™ (Iwaya) â” å‡ºå£ï¼šå—å£ â†’ æ­¥è¡Œç´„ 10 åˆ†é˜" 
                    },
                    { time: "10:00", title: "å…µåº«ç¸£ç«‹ç¾è¡“é¤¨", icon: "building", desc: "å®‰è—¤å¿ é›„æ“åˆ€è¨­è¨ˆï¼Œæ¬£è³æ¥µç°¡æ¸…æ°´æ¨¡å»ºç¯‰èˆ‡æµ·æ™¯ï¼Œèˆ‡å·¨å¤§ã€Œé’è˜‹æœã€åˆå½±", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "å…µåº«ç¸£ç«‹ç¾è¡“é¤¨ â” ç¥æˆ¶èˆŠå±…ç•™åœ° ğŸ«KRP 3æ—¥åˆ¸", 
                        icon: "train-tram", 
                        type: "transport",
                        desc: "ä¸Šè»Šï¼šå²©å±‹ç«™ â” æ­ä¹˜ï¼šé˜ªç¥æœ¬ç·š (å¾€ç¥æˆ¶ä¸‰å®®/å…ƒç”º)\nä¸‹è»Šï¼šå…ƒç”ºç«™ (Motomachi) â” å‡ºå£ï¼šæ±æ”¹æœ­å£ â†’ æ­¥è¡Œè‡³èˆŠå±…ç•™åœ°" 
                    },
                    { time: "12:30", title: "ç¥æˆ¶èˆŠå±…ç•™åœ°", icon: "utensils", desc: "åˆé¤ï¼šæ„Ÿå—æ­é¢¨æ­·å²å»ºç¯‰ç¾¤èˆ‡è³ªæ„Ÿå’–å•¡å»³", type: "food" },
                    { time: "14:30", title: "ç¥æˆ¸ æ „ç”ºé€š", icon: "store", desc: "é€›è¡—ï¼šå°‹å¯¶éš±è—åœ¨èˆŠå¤§æ¨“è£¡çš„ç¨ç«‹æ–‡å…·åº—ã€è—è¡“è³ªæ„Ÿå°ç‰©èˆ‡å®¶é£¾", type: "shopping" },
                    { time: "17:00", title: "ç¥æˆ¶ç‰›æ’ Ishida. æœ¬åº—", icon: "utensils", desc: "æ™šé¤ï¼šç¶²è·¯é ç´„é™å®šå„ªè³ªé›™äººå¥—é¤ (æ­¥è¡Œå‰å¾€)", type: "food" },
                    { 
                        time: "äº¤é€š", 
                        title: "ç¥æˆ¶ä¸‰å®®ç«™ â” æ‘©è€¶å±± æ¬æ˜Ÿå° ğŸ’³åˆ·ICå¡", 
                        icon: "bus", 
                        type: "transport",
                        desc: "ä¸Šè»Šï¼šä¸‰å®®ç«™å‰å·´å£«ç«™ (Mint Kobe ä¸‹æ–¹) â” æ­ä¹˜ï¼šç¥æˆ¶å¸‚å·´å£« 18 ç³»çµ± (å¾€æ‘©è€¶çºœè»Šä¸‹)\nä¸‹è»Šï¼šæ‘©è€¶çºœè»Šä¸‹ç«™ â” è½‰ä¹˜ï¼šæ‘©è€¶ Viewline (çºœè»Š + ç´¢é“) â†’ æ˜Ÿä¹‹ç«™\n(è¨»ï¼šKRPä¸å«å·´å£«èˆ‡çºœè»Š)" 
                    },
                    { time: "19:00", title: "æ¬æ˜Ÿå°", icon: "star", desc: "ç‰¹åˆ¥æ™¯é»ï¼šæ—¥æœ¬ä¸‰å¤§å¤œæ™¯ï¼Œæ¥µåº¦æµªæ¼«", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "æ¬æ˜Ÿå° â” é£¯åº— ğŸ’³åˆ·ICå¡", 
                        icon: "bus", 
                        type: "transport",
                        desc: "ä¸Šè»Šï¼šæ˜Ÿä¹‹ç«™ (ç´¢é“ + çºœè»Š) ä¸‹å±± â” è½‰ä¹˜ï¼šç¥æˆ¶å¸‚å·´å£« 18 ç³»çµ± (å¾€ä¸‰å®®) â” ä¸‰å®®ç«™ â” é£¯åº—æ¥é§å·´å£«" 
                    }
                ]
            },
            {
                day: 3,
                date: "02/18",
                weekday: "é€±ä¸‰",
                location: "æœ‰é¦¬",
                color: "bg-[#78C2C4]",
                events: [
                    { time: "10:00", title: "ç¥æˆ¶ç¾åˆ©å …å…¬åœ’æ±æ–¹å¤§é…’åº—", icon: "door-open", desc: "Check-out", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "ç¥æˆ¶ä¸‰å®®ç«™ â” æœ‰é¦¬æº«æ³‰ç«™ ğŸ«KRP 3æ—¥åˆ¸", 
                        icon: "train", 
                        type: "transport",
                        desc: "æ¨è–¦è·¯ç·š (KRPå…¨åŒ…)ï¼šä¸‰å®®ç«™æ­ä¹˜ç¥æˆ¶å¸‚ç‡Ÿåœ°ä¸‹éµ (å¾€è°·ä¸Š) â” è½‰ä¹˜ï¼šè°·ä¸Šç«™ (åŒæœˆå°) â†’ ç¥æˆ¶é›»éµæœ‰é¦¬ç·š (å¾€ä¸‰ç”°/æœ‰é¦¬) â” è½‰ä¹˜ï¼šæœ‰é¦¬å£ç«™ â†’ æœ‰é¦¬æº«æ³‰ç·š â” ä¸‹è»Šï¼šæœ‰é¦¬æº«æ³‰ç«™" 
                    },
                    { time: "11:30", title: "æœ‰é¦¬æº«æ³‰", icon: "water", desc: "è¡Œç¨‹ï¼šæº«æ³‰è¡—è€èˆ–å·¡ç¦®ã€å“åšç‚­é…¸ç…é¤…", type: "activity" },
                    { time: "15:00", title: "æœˆå…‰åœ’éŠæœˆå±±èŠ", icon: "hotel", desc: "Check-in: äº«å—æˆ¿å…§å°ˆå±¬éœ²å¤©é¢¨å‘‚ï¼Œå¯«æ„æ”¾é¬†", type: "hotel" },
                    { time: "18:00", title: "æœˆå…‰åœ’éŠæœˆå±±èŠ", icon: "utensils", desc: "æ™šé¤ï¼šæ—…é¤¨å…§äº«ç”¨å‚³çµ±è·äººæ–™ç†", type: "food" }
                ]
            },
            {
                day: 4,
                date: "02/19",
                weekday: "é€±å››",
                location: "å¤§é˜ª",
                color: "bg-[#FEDFE1]",
                events: [
                    { time: "11:00", title: "æœˆå…‰åœ’éŠæœˆå±±èŠ", icon: "door-open", desc: "Check-out / é›¢é–‹æœ‰é¦¬æº«æ³‰ï¼ŒçµæŸæº«æ³‰ä¹‹æ—…ï¼Œå‰å¾€å¤§é˜ª", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "æœ‰é¦¬æº«æ³‰ç«™ â” å¤§é˜ªæ¢…ç”°ç«™ ğŸ«KRP 3æ—¥åˆ¸", 
                        icon: "train", 
                        type: "transport",
                        desc: "æ¨è–¦è·¯ç·š (KRPå…¨åŒ…)ï¼šæœ‰é¦¬æº«æ³‰ç«™ â” ç¥æˆ¶é›»éµ (å¾€è°·ä¸Š) â” è°·ä¸Šç«™ â” ç¥æˆ¶å¸‚ç‡Ÿåœ°éµ (å¾€ä¸‰å®®) â” ä¸‰å®®ç«™ â” è½‰ä¹˜ é˜ªæ€¥ç¥æˆ¸ç·š ç‰¹æ€¥ (å¾€å¤§é˜ªæ¢…ç”°) â” ä¸‹è»Šï¼šå¤§é˜ªæ¢…ç”°ç«™\n(è¨»ï¼šè‹¥æ­ä¹˜é˜ªæ€¥é«˜é€Ÿå·´å£«éœ€é¡å¤–è‡ªè²»)" 
                    },
                    { 
                        time: "äº¤é€š", 
                        title: "å¤§é˜ªæ¢…ç”°ç«™ â” æœ¬ç”ºç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport",
                        desc: "é€²ç«™ï¼šæ¢…ç”°ç«™ (M16) â” æ­ä¹˜ï¼šå¤§é˜ªåœ°ä¸‹éµ å¾¡å ‚ç­‹ç·š (å¾€å¤©ç‹å¯º/ä¸­ç™¾èˆŒé³¥)\nä¸‹è»Šï¼šæœ¬ç”ºç«™ (M18) â” å‡ºå£ï¼š13è™Ÿæˆ–11è™Ÿå‡ºå£" 
                    },
                    { time: "13:00", title: "æ±æ€¥stayå¤§é˜ªæœ¬ç”ºé…’åº—", icon: "hotel", desc: "å¯„æ”¾è¡Œæ", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "æœ¬ç”ºç«™ â” ä¸­å´ç”ºç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport",
                        desc: "æœ¬ç”ºç«™ (M18) â” å¾¡å ‚ç­‹ç·š â†’ æ¢…ç”°ç«™ (M16) â” æ­¥è¡Œè‡³ æ±æ¢…ç”°ç«™ (T20) â” è°·ç”ºç·š â†’ ä¸­å´ç”ºç«™ (T19)" 
                    },
                    { time: "14:00", title: "ä¸­å´ç”º", icon: "flask", desc: "é«”é©—ï¼šæ•£ç­–èˆ‡èª¿é¦™é«”é©— (å¾©å¤å··å¼„ï¼Œèª¿è£½å°ˆå±¬ç´€å¿µé¦™æ°´)", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "ä¸­å´ç”ºç«™ â” å¤©ç‹å¯ºç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport",
                        desc: "ä¸­å´ç”ºç«™ (T19) â” è°·ç”ºç·š â†’ å¤©ç‹å¯ºç«™ (T27)" 
                    },
                    { time: "16:00", title: "Sports Depo å¤©ç‹å¯ºåº—", icon: "bag-shopping", desc: "ä½æ–¼ Q's Mallï¼Œå•†å“é½Šå…¨çš„é‹å‹•ç”¨å“å°ˆè³£åº—", type: "shopping" },
                    { time: "18:30", title: "Harukas 300", icon: "city", desc: "ç‰¹åˆ¥æ™¯é»ï¼šé˜¿å€é‡ HARUKAS 300 å±•æœ›å°ï¼Œä¿¯ç°å¤§é˜ªçµ•ç¾å¤œæ™¯", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "å¤©ç‹å¯ºç«™ â” é£¯åº— ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport",
                        desc: "å¤©ç‹å¯ºç«™ (M23) â” å¾¡å ‚ç­‹ç·š â†’ æœ¬ç”ºç«™ (M18)" 
                    }
                ]
            },
            {
                day: 5,
                date: "02/20",
                weekday: "é€±äº”",
                location: "å¤§é˜ª",
                color: "bg-[#FEDFE1]",
                events: [
                    { 
                        time: "äº¤é€š", 
                        title: "é£¯åº— â” è‚¥å¾Œæ©‹ç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport", 
                        desc: "æœ¬ç”ºç«™ (Y13) â” å››æ©‹ç·š â†’ è‚¥å¾Œæ©‹ç«™ (Y12)" 
                    },
                    { time: "10:00", title: "ä¸­ä¹‹å³¶å…¬åœ’", icon: "tree", desc: "æ´»å‹•ï¼šæ•£æ­¥ (ç¾è¡“é¤¨ã€ç«¥æ›¸æ£®æ—èˆ‡ç´…ç£šå…¬æœƒå ‚ï¼Œå¯«æ„æ—©æ™¨)", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "è‚¥å¾Œæ©‹ç«™ â” å››æ©‹ç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport", 
                        desc: "è‚¥å¾Œæ©‹ç«™ (Y12) â” å››æ©‹ç·š â†’ å››æ©‹ç«™ (Y14) â” 6è™Ÿå‡ºå£" 
                    },
                    { time: "13:30", title: "Orange Street", icon: "shirt", desc: "é€›è¡—ï¼šå—å €æ±Ÿï¼ŒåŒ¯é›† Patagonia ç­‰æˆ¶å¤–å±±ç³»æœé£¾ã€æ½®æµé‹å‹•é…ä»¶èˆ‡è¨­è¨ˆå®¶å“", type: "shopping" },
                    { 
                        time: "äº¤é€š", 
                        title: "å››æ©‹ç«™ â” è¥¿æ¢…ç”°ç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport", 
                        desc: "å››æ©‹ç«™ (Y14) â” å››æ©‹ç·š â†’ è¥¿æ¢…ç”°ç«™ (Y11) â” æ­¥è¡Œè‡³èŒ¶å±‹ç”º" 
                    },
                    { time: "15:30", title: "æ¢…ç”° Loft", icon: "pen-ruler", desc: "é›†ä¸­æ¡è³¼ï¼šç¾è¡“ç”¨å“", type: "shopping" },
                    { time: "16:30", title: "SteP SPORTS Run City Osaka", icon: "person-running", desc: "ä½æ–¼èŒ¶å±‹ç”ºï¼ŒLOFTå°é¢ï¼Œè·‘è€…è–åœ°ï¼Œå°ˆæ¥­è·‘é‹", type: "shopping" },
                    { time: "18:00", title: "ç©ºä¸­åº­åœ’å±•æœ›å°", icon: "cloud", desc: "åœ°é»ï¼šæ¢…ç”°è—å¤©å¤§å»ˆï¼Œçœ‹å¤•é™½æ¼¸å±¤è‡³å¤œæ™¯", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "æ¢…ç”°è—å¤©å¤§å»ˆ â” é£¯åº— ğŸ’³åˆ·ICå¡", 
                        icon: "train-subway", 
                        type: "transport", 
                        desc: "æ¢…ç”°ç«™ (M16) â” å¾¡å ‚ç­‹ç·š â†’ æœ¬ç”ºç«™ (M18)" 
                    }
                ]
            },
            {
                day: 6,
                date: "02/21",
                weekday: "é€±å…­",
                location: "å¥ˆè‰¯",
                color: "bg-[#FAD689]",
                events: [
                    { 
                        time: "äº¤é€š", 
                        title: "é£¯åº— â” è¿‘éµå¥ˆè‰¯ç«™ ğŸ’³åˆ·ICå¡", 
                        icon: "train", 
                        type: "transport",
                        desc: "æœ¬ç”ºç«™ (M18) â” å¾¡å ‚ç­‹ç·š â†’ é›£æ³¢ç«™ (M20) â” è½‰ä¹˜è¿‘éµ â” è¿‘éµå¥ˆè‰¯ç«™" 
                    },
                    { time: "10:00", title: "æ±å¤§å¯º & å¥ˆè‰¯å…¬åœ’", icon: "deer", desc: "æ´»å‹•ï¼šå¤§ä½›æ®¿å·¡ç¦®ã€æ™¨é–“èˆ‡å°é¹¿äº’å‹•", type: "activity" },
                    { time: "13:30", title: "å¥ˆè‰¯ è‹¥è‰å±±", icon: "mountain", desc: "é«”é©—ï¼šçµ•æ™¯è¡Œå±± (æ¼«æ­¥ç™»ä¸Šé–‹é—Šçš„è‰åœ°å±±å¡ï¼Œèˆ‡å°é¹¿ç›¸ä¼´)", type: "activity" },
                    { time: "15:30", title: "é¹¿çŒ¿ç‹åŒ…è¢±å°è·¯", icon: "store", desc: "é€›è¡—ï¼šä¸­å·æ”¿ä¸ƒæ——è‰¦åº— (æ—¥æœ¬å·¥è—ç”Ÿæ´»å®¶å“)", type: "shopping" },
                    { time: "17:00", title: "å¥ˆè‰¯ç”º", icon: "mug-hot", desc: "é«”é©—ï¼šèŒ¶é“èˆ‡å’Œè“å­ (åœ¨ç™¾å¹´ç”ºå®¶å…§åƒèˆ‡å‚³çµ±èŒ¶é“)", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "è¿‘éµå¥ˆè‰¯ç«™ â” é£¯åº— ğŸ’³åˆ·ICå¡", 
                        icon: "train", 
                        type: "transport",
                        desc: "è¿‘éµå¥ˆè‰¯ç«™ â” å¿«é€Ÿæ€¥è¡Œ â†’ å¤§é˜ªé›£æ³¢ç«™ â” è½‰ä¹˜å¾¡å ‚ç­‹ç·š â†’ æœ¬ç”ºç«™" 
                    }
                ]
            },
            {
                day: 7,
                date: "02/22",
                weekday: "é€±æ—¥",
                location: "å’Œæ­Œå±±",
                color: "bg-[#A8D8B9]",
                events: [
                    { time: "09:30", title: "æ±æ€¥stayå¤§é˜ªæœ¬ç”ºé…’åº—", icon: "door-open", desc: "Check-out & å¯„æ”¾è¡Œæ (è¼•è£å‰å¾€)", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "å¤§é˜ª â” å’Œæ­Œå±± ğŸ«JRå»£åŸŸ5æ—¥åˆ¸", 
                        icon: "train", 
                        type: "transport",
                        desc: "1. æœ¬ç”ºç«™ â” å¤©ç‹å¯ºç«™ (å¾¡å ‚ç­‹ç·š ğŸ’³åˆ·ICå¡)\n2. å¤©ç‹å¯ºç«™ â” JR å’Œæ­Œå±±ç«™ (æ­ä¹˜ JR ç‰¹æ€¥é»‘æ½®è™Ÿ Kuroshioï¼Œä½¿ç”¨ JR Pass)" 
                    },
                    { time: "11:00", title: "å’Œæ­Œå±±å¤§å’ŒROYNETé…’åº—", icon: "hotel", desc: "Check-in (å¯„æ”¾è¡Œæ)", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "å’Œæ­Œå±±å¸‚å€ â” å¥§ä¹‹é™¢ ğŸ’³åˆ·ICå¡/å¦è³¼ç¥¨", 
                        icon: "car", 
                        type: "transport",
                        desc: "æ–¹æ¡ˆ A (ç§Ÿè»Š/åŒ…è»Š - æ¨è–¦)ï¼šç´„ 90-120 åˆ†é˜ç›´é”å¥§ä¹‹é™¢å£\næ–¹æ¡ˆ B (é›»è»Š)ï¼šJR å’Œæ­Œå±±ç·š (JR Pass OK) â†’ æ©‹æœ¬ç«™ â” è½‰ä¹˜ å—æµ·é«˜é‡ç·š (éœ€å¦è³¼ç¥¨) â†’ æ¥µæ¨‚æ©‹ç«™ â” çºœè»Š â” å·´å£«" 
                    },
                    { time: "14:30", title: "å¥§ä¹‹é™¢", icon: "gopuram", desc: "åƒæ‹œï¼šé«˜é‡å±± (æ—¥æœ¬ä½›æ•™è–åœ°ï¼Œæ¼«æ­¥æ–¼åƒå¹´æ‰æœ¨æ—åƒé“)", type: "activity" },
                    { time: "17:00", title: "å’Œæ­Œå±±åŸ", icon: "chess-rook", desc: "æ´»å‹•ï¼šå¤–åœæ¬£è³é»ç‡ˆå¾Œçš„å’Œæ­Œå±±åŸå¤œæ™¯", type: "activity" },
                    { time: "18:30", title: "äº•å‡ºå•†åº—", icon: "bowl-food", desc: "æ™šé¤ï¼šå“åšå…¨æ—¥æœ¬çŸ¥åçš„æ­£å®—å’Œæ­Œå±±æ‹‰éºµ", type: "food" }
                ]
            },
            {
                day: 8,
                date: "02/23",
                weekday: "é€±ä¸€",
                location: "å’Œæ­Œå±±",
                color: "bg-[#A8D8B9]",
                events: [
                    { time: "09:00", title: "å’Œæ­Œå±±å¤§å’ŒROYNETé…’åº—", icon: "door-open", desc: "Check-out", type: "hotel" },
                    { 
                        time: "äº¤é€š", 
                        title: "é£¯åº— â” è²´å¿—ç«™ (ä¾†å›) ğŸ«JRå»£åŸŸ5æ—¥åˆ¸", 
                        icon: "cat", 
                        type: "transport",
                        desc: "é£¯åº— â” å·´å£«(ğŸ’³IC) â” JRå’Œæ­Œå±±ç«™ â” è½‰ä¹˜ã€å’Œæ­Œå±±é›»éµ è²´å¿—å·ç·šã€‘(JR Pass å¯æ­ä¹˜) â” è²´å¿—ç«™çœ‹è²“ç«™é•· â” åŸè·¯è¿”å› JRå’Œæ­Œå±±ç«™" 
                    },
                    { time: "10:00", title: "è²´å¿—ç«™", icon: "paw", desc: "æ´»å‹•ï¼šæ¢è¨ªè²“å’ªç«™é•· (åƒè§€è»Šç«™èˆ‡è²“å’ªç«™é•· äºŒä»£ç‰/å››ä»£ç‰)", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "JR å’Œæ­Œå±±ç«™ â” é›œè³€å´éŠåœ’ ğŸ’³åˆ·ICå¡", 
                        icon: "bus", 
                        type: "transport", 
                        desc: "JR å’Œæ­Œå±±ç«™å·´å£«ç¸½ç«™ â” å’Œæ­Œå±±å·´å£« (å¾€é›œè³€å´æ–¹å‘) â” ä¸‹è»Šï¼šé›œè³€å´éŠåœ’" 
                    },
                    { time: "13:30", title: "é›œè³€å´æ¼æ¸¯", icon: "water", desc: "æ™¯é»ï¼šæœ‰ã€Œæ—¥æœ¬é˜¿ç‘ªè²ã€ä¹‹ç¨±çš„æµªæ¼«å¾©å¤æµ·å²¸ï¼Œäº«å—æµ·æ™¯å’–å•¡å»³", type: "activity" },
                    { 
                        time: "äº¤é€š", 
                        title: "é›œè³€å´ â” é—œè¥¿æ©Ÿå ´ ğŸ«JRå»£åŸŸ5æ—¥åˆ¸", 
                        icon: "plane", 
                        type: "transport",
                        desc: "1. å·´å£«(ğŸ’³IC) â” è¿”å› JRå’Œæ­Œå±±ç«™ æˆ– å—æµ·å’Œæ­Œå±±å¸‚ç«™\n2. æ­ä¹˜ JR é˜ªå’Œç·š/é—œç©ºå¿«é€Ÿ (JR Pass OK) â” è‡¨ç©ºåŸç«™\n3. è‡¨ç©ºåŸç«™ â” é—œè¥¿æ©Ÿå ´ç«™ (JR Pass OK)" 
                    },
                    { time: "16:30", title: "è‡¨ç©ºåŸ Outlet", icon: "bag-shopping", desc: "æœ€å¾Œè¡€æ‹¼ï¼šé›†ä¸­æƒè²¨å„å¤§é‹å‹•å“ç‰Œçš„è·‘æ­¥ã€ç¶²çƒé‹èˆ‡æœé£¾", type: "shopping" },
                    { time: "23:00", title: "æ­ä¹˜ MM069 èˆªç­", icon: "plane-departure", desc: "å¸¶è‘—æ»¿æ»¿å›æ†¶è¿”å›", type: "flight" }
                ]
            }
        ];

        // ç­†è¨˜è³‡æ–™ (ä½¿ç”¨ LocalStorage)
        const useNotes = () => {
            const [notes, setNotes] = useState([]);
            
            useEffect(() => {
                try {
                    const saved = localStorage.getItem('trip_notes');
                    if (saved) setNotes(JSON.parse(saved));
                } catch (e) { console.error("LS Error", e); }
            }, []);

            const addNote = (note) => {
                const newNotes = [...notes, note];
                setNotes(newNotes);
                try { localStorage.setItem('trip_notes', JSON.stringify(newNotes)); } catch(e){}
            };

            const deleteNote = (index) => {
                const newNotes = notes.filter((_, i) => i !== index);
                setNotes(newNotes);
                try { localStorage.setItem('trip_notes', JSON.stringify(newNotes)); } catch(e){}
            };

            return { notes, addNote, deleteNote };
        };

        // å¤–éƒ¨é€£çµå·¥å…·
        const openMap = (query) => {
            const q = encodeURIComponent(query);
            // å˜—è©¦ä½¿ç”¨ Universal Link / Intent
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            
            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                window.location.href = `comgooglemaps://?q=${q}`;
                setTimeout(() => { window.location.href = `https://www.google.com/maps/search/?api=1&query=${q}`; }, 500);
            } else if (/android/i.test(userAgent)) {
                window.location.href = `geo:0,0?q=${q}`;
                setTimeout(() => { window.location.href = `https://www.google.com/maps/search/?api=1&query=${q}`; }, 500);
            } else {
                window.open(`https://www.google.com/maps/search/?api=1&query=${q}`, '_blank');
            }
        };

        const openDirections = (title) => {
            const parts = title.split('â”');
            if (parts.length < 2) return openMap(title);
            
            const origin = encodeURIComponent(parts[0].replace('[äº¤é€š]', '').trim());
            const dest = encodeURIComponent(parts[1].split('(')[0].trim());
            
            window.open(`https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${dest}&travelmode=transit`, '_blank');
        };

        // --- å…ƒä»¶ Components ---

        // 1. è¡Œç¨‹è¦–åœ– ItineraryView
        const ItineraryView = () => {
            return (
                <div className="p-4 space-y-6 fade-in">
                    <header className="mb-6">
                        <h1 className="text-2xl font-bold text-gray-800">Kansai 2026</h1>
                        <p className="text-sm text-gray-500">ç¥æˆ¶ Â· æœ‰é¦¬ Â· å¤§é˜ª Â· å¥ˆè‰¯ Â· å’Œæ­Œå±±</p>
                    </header>
                    
                    {itineraryData.map((dayData) => (
                        <div key={dayData.day} className="relative pl-4 border-l-2 border-gray-200">
                            <div className={`absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white shadow-sm ${dayData.color}`}></div>
                            
                            <div className="mb-4">
                                <h2 className="text-lg font-bold text-gray-800 flex items-center">
                                    Day {dayData.day} <span className="mx-2 text-gray-300">|</span> {dayData.date} {dayData.weekday}
                                </h2>
                                <span className={`inline-block px-2 py-0.5 rounded text-xs text-white ${dayData.color} mt-1`}>
                                    {dayData.location}
                                </span>
                            </div>

                            <div className="space-y-4">
                                {dayData.events.map((event, idx) => (
                                    <div key={idx} className="glass-card p-3 rounded-xl flex gap-3 items-start">
                                        <div className={`mt-1 w-8 h-8 rounded-full flex items-center justify-center bg-gray-50 text-gray-400 shrink-0`}>
                                            <i className={`fa-solid fa-${event.icon}`}></i>
                                        </div>
                                        <div className="flex-1 min-w-0">
                                            <div className="flex justify-between items-baseline mb-1">
                                                <h3 className="font-bold text-gray-800 truncate pr-2 text-sm">{event.title}</h3>
                                                <span className="text-xs font-mono text-gray-400 shrink-0">{event.time}</span>
                                            </div>
                                            <p className="text-xs text-gray-500 leading-relaxed whitespace-pre-line">{event.desc}</p>
                                            
                                            {/* Action Buttons based on type */}
                                            {event.type === 'transport' && (
                                                <button 
                                                    onClick={() => openDirections(event.title)}
                                                    className="mt-2 text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 px-3 py-1.5 rounded-full transition-colors flex items-center w-fit"
                                                >
                                                    <i className="fa-solid fa-diamond-turn-right mr-1.5"></i> å°èˆª
                                                </button>
                                            )}
                                            {(event.type === 'activity' || event.type === 'food' || event.type === 'shopping' || event.type === 'hotel') && (
                                                <button 
                                                    onClick={() => openMap(event.title)}
                                                    className="mt-2 text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 px-3 py-1.5 rounded-full transition-colors flex items-center w-fit"
                                                >
                                                    <i className="fa-solid fa-map-location-dot mr-1.5"></i> åœ°åœ–
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        // 2. æ¢ç´¢è¦–åœ– ExploreView (ç­†è¨˜åŠŸèƒ½)
        const ExploreView = () => {
            const { notes, addNote, deleteNote } = useNotes();
            const [input, setInput] = useState({ title: '', content: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!input.title) return;
                addNote({ ...input, id: Date.now() });
                setInput({ title: '', content: '' });
            };

            return (
                <div className="p-4 fade-in h-full flex flex-col">
                    <h2 className="text-xl font-bold text-gray-800 mb-4">æ—…è¡Œç­†è¨˜</h2>
                    
                    <form onSubmit={handleSubmit} className="glass-card p-4 rounded-xl mb-6">
                        <input 
                            type="text" 
                            placeholder="æ¨™é¡Œ (ä¾‹å¦‚: å¿…è²·è—¥å¦)" 
                            className="w-full bg-transparent border-b border-gray-200 py-2 text-sm focus:outline-none focus:border-[#78C2C4] mb-3"
                            value={input.title}
                            onChange={e => setInput({...input, title: e.target.value})}
                        />
                        <textarea 
                            placeholder="å…§å®¹å‚™è¨»..." 
                            className="w-full bg-transparent border-b border-gray-200 py-2 text-sm focus:outline-none focus:border-[#78C2C4] h-20 resize-none"
                            value={input.content}
                            onChange={e => setInput({...input, content: e.target.value})}
                        ></textarea>
                        <button type="submit" className="mt-3 w-full bg-[#78C2C4] text-white py-2 rounded-lg text-sm font-bold shadow-sm active:scale-95 transition-transform">
                            <i className="fa-solid fa-plus mr-1"></i> æ–°å¢ç­†è¨˜
                        </button>
                    </form>

                    <div className="flex-1 overflow-y-auto space-y-3 pb-20 no-scrollbar">
                        {notes.length === 0 && (
                            <div className="text-center text-gray-400 mt-10 text-sm">
                                <i className="fa-regular fa-clipboard mb-2 text-2xl"></i>
                                <p>é‚„æ²’æœ‰ç­†è¨˜</p>
                            </div>
                        )}
                        {notes.map((note, idx) => (
                            <div key={note.id} className="glass-card p-4 rounded-xl relative group">
                                <h3 className="font-bold text-gray-800 text-sm">{note.title}</h3>
                                <p className="text-xs text-gray-500 mt-1 whitespace-pre-line">{note.content}</p>
                                <button 
                                    onClick={() => deleteNote(idx)}
                                    className="absolute top-3 right-3 text-gray-300 hover:text-red-400 transition-colors"
                                >
                                    <i className="fa-solid fa-trash-can"></i>
                                </button>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // 3. å·¥å…·è¦–åœ– ToolsView
        const ToolsView = () => {
            const [activeSubTab, setActiveSubTab] = useState('rail');

            return (
                <div className="p-4 fade-in">
                    <h2 className="text-xl font-bold text-gray-800 mb-4">å¯¦ç”¨å·¥å…·</h2>
                    
                    <div className="flex bg-gray-200/50 p-1 rounded-lg mb-6">
                        {['rail', 'currency', 'weather'].map(tab => (
                            <button
                                key={tab}
                                onClick={() => setActiveSubTab(tab)}
                                className={`flex-1 py-2 text-xs font-bold rounded-md transition-all ${
                                    activeSubTab === tab ? 'bg-white shadow-sm text-[#78C2C4]' : 'text-gray-500'
                                }`}
                            >
                                {tab === 'rail' && 'éµè·¯'}
                                {tab === 'currency' && 'åŒ¯ç‡'}
                                {tab === 'weather' && 'å¤©æ°£'}
                            </button>
                        ))}
                    </div>

                    <div className="min-h-[300px]">
                        {activeSubTab === 'rail' && (
                            <div className="space-y-4">
                                {/* é—œè¥¿éµè·¯å¡ */}
                                <div className="glass-card p-4 rounded-xl relative overflow-hidden">
                                    <div className="absolute top-0 left-0 w-1.5 h-full bg-[#78C2C4]"></div>
                                    <h3 className="font-bold text-gray-800 mb-2 flex items-center">
                                        <i className="fa-solid fa-train-tram text-[#78C2C4] mr-2"></i>
                                        é—œè¥¿éµè·¯å¡ (KRP) 3æ—¥åˆ¸
                                    </h3>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li><strong className="text-gray-700">ğŸ“Œ å…Œæ›åœ°é»ï¼š</strong>é—œè¥¿æ©Ÿå ´æ—…éŠè³‡è¨Šä¸­å¿ƒ(KTIC) æˆ–æŒ‡å®šç§éµç«™ã€‚</li>
                                        <li><strong className="text-gray-700">ğŸ“… ä½¿ç”¨æ—¥æœŸï¼š</strong>Day 2 (02/17) ~ Day 4 (02/19)</li>
                                        <li><strong className="text-gray-700">ğŸ›¤ï¸ é©ç”¨è·¯æ®µï¼š</strong>ç¥æˆ¶å¸‚å€é˜ªç¥é›»è»Šã€å¾€è¿”æœ‰é¦¬æº«æ³‰çš„ç¥æˆ¶é›»éµã€å¾€å¤§é˜ªçš„é˜ªæ€¥é›»è»Šã€‚(è¨»ï¼šä¸å¯æ­ä¹˜JRèˆ‡ç¥æˆ¶å¸‚å·´å£«)</li>
                                    </ul>
                                </div>

                                {/* JR é—œè¥¿å»£åŸŸéµè·¯å‘¨éŠåˆ¸ */}
                                <div className="glass-card p-4 rounded-xl relative overflow-hidden">
                                    <div className="absolute top-0 left-0 w-1.5 h-full bg-[#A8D8B9]"></div>
                                    <h3 className="font-bold text-gray-800 mb-2 flex items-center">
                                        <i className="fa-solid fa-train text-[#A8D8B9] mr-2"></i>
                                        JR é—œè¥¿å»£åŸŸéµè·¯å‘¨éŠåˆ¸ 5æ—¥åˆ¸
                                    </h3>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li><strong className="text-gray-700">ğŸ“Œ å…Œæ›åœ°é»ï¼š</strong>é—œè¥¿æ©Ÿå ´ JR ç¶ è‰²çª—å£ï¼Œæˆ–é™„è­·ç…§è®€å–å™¨ä¹‹ç¶ è‰²å”®ç¥¨æ©Ÿã€‚</li>
                                        <li><strong className="text-gray-700">ğŸ“… ä½¿ç”¨æ—¥æœŸï¼š</strong>Day 4 (02/19) ~ Day 8 (02/23) é€£çºŒä½¿ç”¨</li>
                                        <li><strong className="text-gray-700">ğŸ›¤ï¸ é©ç”¨è·¯æ®µï¼š</strong>å¤§é˜ªå¾€è¿”å’Œæ­Œå±±(JRç‰¹æ€¥é»‘æ½®è™Ÿ)ã€å’Œæ­Œå±±é›»éµ(è²´å¿—ç·š)ã€å’Œæ­Œå±±å¾€è‡¨ç©ºåŸåŠé—œè¥¿æ©Ÿå ´ä¹‹JRè·¯ç·šã€‚</li>
                                    </ul>
                                </div>

                                {/* ICå¡ */}
                                <div className="glass-card p-4 rounded-xl relative overflow-hidden">
                                    <div className="absolute top-0 left-0 w-1.5 h-full bg-[#FEDFE1]"></div>
                                    <h3 className="font-bold text-gray-800 mb-2 flex items-center">
                                        <i className="fa-brands fa-apple text-[#FEDFE1] mr-2"></i>
                                        å¯¦é«” ICOCA / Apple Pay Suica
                                    </h3>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li><strong className="text-gray-700">ğŸ“Œ æº–å‚™æ–¹å¼ï¼š</strong>iPhone éŒ¢åŒ…ç›´æ¥åŠ å…¥ï¼Œæˆ–æ–¼å„è»Šç«™è‡ªå‹•å”®ç¥¨æ©Ÿè³¼è²·/å„²å€¼ã€‚</li>
                                        <li><strong className="text-gray-700">ğŸ›¤ï¸ é©ç”¨æƒ…å¢ƒï¼š</strong>å¡«è£œå‘¨éŠåˆ¸ç„¡æ³•è¦†è“‹ä¹‹è·¯ç·šã€‚å¦‚ Day 1 æ©Ÿå ´é«˜é€Ÿèˆ¹ã€å¤§é˜ªå¸‚ç‡Ÿåœ°ä¸‹éµã€å¥ˆè‰¯è¿‘éµã€ä»¥åŠå„åœ°å€å¸‚ç‡Ÿå…¬è»Šã€‚</li>
                                    </ul>
                                </div>
                            </div>
                        )}

                        {activeSubTab === 'currency' && (
                            <div className="text-center text-gray-500 py-10">
                                <i className="fa-solid fa-coins text-4xl mb-3 text-gray-300"></i>
                                <p className="text-sm">å¯é€£çµå³æ™‚åŒ¯ç‡ API</p>
                                <p className="text-xs mt-2 text-gray-400">ç›®å‰å»ºè­°ä½¿ç”¨ xCurrency App</p>
                            </div>
                        )}

                        {activeSubTab === 'weather' && (
                            <div className="text-center text-gray-500 py-10">
                                <i className="fa-solid fa-cloud-sun text-4xl mb-3 text-gray-300"></i>
                                <p className="text-sm">2æœˆå¹³å‡æ°£æº«ï¼š5Â°C ~ 10Â°C</p>
                                <p className="text-xs mt-2 text-gray-400">å»ºè­°ç©¿è‘—ï¼šæ´‹è”¥å¼ç©¿æ­ã€åœå·¾ã€å¤§è¡£</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        // 4. è³‡è¨Šè¦–åœ– InfoView
        const InfoView = () => {
            return (
                <div className="p-4 fade-in space-y-4">
                    <h2 className="text-xl font-bold text-gray-800 mb-4">èˆªç­èˆ‡ä½å®¿</h2>
                    
                    {/* èˆªç­ */}
                    <div className="glass-card p-0 rounded-xl overflow-hidden mb-6">
                        <div className="bg-[#FEDFE1] px-4 py-2 flex justify-between items-center">
                            <span className="text-xs font-bold text-gray-600">æ¨‚æ¡ƒèˆªç©º Peach</span>
                            <span className="text-xs font-mono text-gray-500">MM069</span>
                        </div>
                        <div className="p-4 flex justify-between items-center">
                            <div className="text-center">
                                <div className="text-2xl font-bold text-gray-800">KIX</div>
                                <div className="text-xs text-gray-500">é—œè¥¿ T2</div>
                                <div className="text-sm font-mono font-bold mt-1">23:00</div>
                            </div>
                            <div className="flex-1 px-4 flex flex-col items-center">
                                <i className="fa-solid fa-plane text-gray-300 rotate-90"></i>
                                <div className="w-full h-px bg-gray-200 my-2"></div>
                                <span className="text-[10px] text-gray-400">ç´„ 3h</span>
                            </div>
                            <div className="text-center">
                                <div className="text-2xl font-bold text-gray-800">HKG</div>
                                <div className="text-xs text-gray-500">é¦™æ¸¯ T1</div>
                                <div className="text-sm font-mono font-bold mt-1">02:30</div>
                            </div>
                        </div>
                    </div>

                    {/* ä½å®¿åˆ—è¡¨ */}
                    <h3 className="text-sm font-bold text-gray-600 ml-1">ä½å®¿æ¸…å–®</h3>
                    <div className="space-y-3">
                        {[
                            { name: "ç¥æˆ¶ç¾åˆ©å …å…¬åœ’æ±æ–¹å¤§é…’åº—", days: "Day 1-2", link: "https://hk.trip.com/account/bookings" },
                            { name: "æœˆå…‰åœ’éŠæœˆå±±èŠ (æœ‰é¦¬)", days: "Day 3", link: "https://hk.trip.com/account/bookings" },
                            { name: "æ±æ€¥ Stay å¤§é˜ªæœ¬ç”º", days: "Day 4-6", link: "https://hk.trip.com/account/bookings" },
                            { name: "å’Œæ­Œå±±å¤§å’Œ Roynet é…’åº—", days: "Day 7", link: "https://hk.trip.com/account/bookings" },
                        ].map((hotel, idx) => (
                            <div key={idx} className="glass-card p-3 rounded-lg flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <button 
                                        onClick={() => openMap(hotel.name)}
                                        className="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-[#78C2C4] hover:text-white transition-colors"
                                    >
                                        <i className="fa-solid fa-location-dot text-xs"></i>
                                    </button>
                                    <div>
                                        <a href={hotel.link} target="_blank" className="text-sm font-bold text-gray-800 hover:underline">
                                            {hotel.name}
                                        </a>
                                        <div className="text-xs text-gray-400">{hotel.days}</div>
                                    </div>
                                </div>
                                <i className="fa-solid fa-chevron-right text-xs text-gray-300"></i>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // 5. åº•éƒ¨å°èˆª BottomNav
        const BottomNav = ({ activeTab, setActiveTab }) => {
            const tabs = [
                { id: 'itinerary', icon: 'calendar-days', label: 'è¡Œç¨‹' },
                { id: 'explore', icon: 'pen-to-square', label: 'ç­†è¨˜' },
                { id: 'tools', icon: 'suitcase', label: 'å·¥å…·' },
                { id: 'info', icon: 'circle-info', label: 'è³‡è¨Š' },
            ];

            return (
                <div className="fixed bottom-0 left-0 w-full bg-white/90 backdrop-blur-md border-t border-gray-200 pb-safe z-50">
                    <div className="flex justify-around items-center h-16 max-w-md mx-auto">
                        {tabs.map(tab => (
                            <button 
                                key={tab.id}
                                onClick={() => setActiveTab(tab.id)}
                                className={`flex flex-col items-center justify-center w-full h-full transition-all duration-300 ${activeTab === tab.id ? 'text-[#78C2C4] -translate-y-1' : 'text-gray-400'}`}
                            >
                                <i className={`fa-solid fa-${tab.icon} text-xl mb-1`}></i>
                                <span className="text-[10px] font-medium">{tab.label}</span>
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        // --- 4. ä¸»ç¨‹å¼ App ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('itinerary');

            return (
                <div className="max-w-md mx-auto min-h-screen relative pb-20">
                    {/* æ ¹æ“š Tab åˆ‡æ›é¡¯ç¤ºå…§å®¹ */}
                    {activeTab === 'itinerary' && <ItineraryView />}
                    {activeTab === 'explore' && <ExploreView />}
                    {activeTab === 'tools' && <ToolsView />}
                    {activeTab === 'info' && <InfoView />}

                    {/* åº•éƒ¨å°èˆª */}
                    <BottomNav activeTab={activeTab} setActiveTab={setActiveTab} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
